<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Security ê¸°ë³¸ ì‹¤ìŠµ</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background-color: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header { text-align: center; color: #333; margin-bottom: 30px; }
        .welcome { background: #e3f2fd; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .navigation { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .nav-button { padding: 10px 20px; background: #2196f3; color: white; text-decoration: none; border-radius: 5px; transition: background 0.3s; }
        .nav-button:hover { background: #1976d2; }
        .info-box { background: #f0f0f0; padding: 15px; border-radius: 5px; margin: 10px 0; }
        .logout-form { margin-top: 20px; }
        .logout-button { padding: 10px 20px; background: #f44336; color: white; border: none; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>ğŸ” Spring Security ê¸°ë³¸ ì‹¤ìŠµ</h1>
        <p>ì¸ì¦ê³¼ ì¸ê°€ì˜ ë™ì‘ì„ í™•ì¸í•´ë³´ì„¸ìš”</p>
    </div>

    <div class="welcome" th:if="${username}">
        <h2>ğŸ‘‹ í™˜ì˜í•©ë‹ˆë‹¤!</h2>
        <div class="info-box">
            <strong>ë¡œê·¸ì¸ ì‚¬ìš©ì:</strong> <span th:text="${username}">ì‚¬ìš©ìëª…</span>
        </div>
        <div class="info-box">
            <strong>ê¶Œí•œ:</strong>
            <span th:each="auth: ${authorities}">
                    <span th:text="${auth.authority}">ê¶Œí•œ</span>&nbsp;
                </span>
        </div>
    </div>

    <div class="welcome" th:unless="${username}">
        <h2>ğŸšª ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤</h2>
        <p>ì´ í˜ì´ì§€ë¥¼ ë³´ë ¤ë©´ ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
    </div>


    <div class="navigation">
        <a href="/" class="nav-button">ğŸ  í™ˆ</a>
        <a href="/public" class="nav-button">ğŸŒ ê³µê°œ í˜ì´ì§€</a>
        <a href="/user" class="nav-button">ğŸ‘¤ ì‚¬ìš©ì í˜ì´ì§€</a>
        <a href="/admin" class="nav-button">ğŸ‘¨â€ğŸ’¼ ê´€ë¦¬ì í˜ì´ì§€</a>
    </div>

    <div class="info-box">
        <h3>ğŸ“ ì‹¤ìŠµ ì•ˆë‚´</h3>
        <ul>
            <li><strong>ì¸ì¦ í™•ì¸:</strong> ë¡œê·¸ì¸í•˜ì§€ ì•Šê³  ìœ„ ë§í¬ë“¤ì„ í´ë¦­í•´ë³´ì„¸ìš”</li>
            <li><strong>ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸:</strong> ê¸°ë³¸ ì‚¬ìš©ìëª… 'user'ì™€ ì½˜ì†”ì— ì¶œë ¥ëœ íŒ¨ìŠ¤ì›Œë“œ ì‚¬ìš©</li>
            <li><strong>ê¶Œí•œ í…ŒìŠ¤íŠ¸:</strong> ë¡œê·¸ì¸ í›„ ê° í˜ì´ì§€ ì ‘ê·¼ í…ŒìŠ¤íŠ¸</li>
        </ul>
    </div>

    <form th:if="${username}" class="logout-form" method="post" action="/logout">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <button type="submit" class="logout-button">ğŸšª ë¡œê·¸ì•„ì›ƒ</button>
    </form>
</div>
</body>
</html>